EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:kamaji
LIBS:switches
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Kamaji"
Date ""
Rev "2.0"
Comp ""
Comment1 "Â© Ilya Strukov 2017"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L ATMEGA32U4-AU U1
U 1 1 59E66067
P 2630 3030
F 0 "U1" H 1680 4730 50  0000 C CNN
F 1 "ATMEGA32U4-AU" H 3330 1530 50  0000 C CNN
F 2 "Housings_QFP:TQFP-44_10x10mm_Pitch0.8mm" H 2630 3030 50  0001 C CIN
F 3 "" H 3730 4130 50  0001 C CNN
	1    2630 3030
	1    0    0    -1  
$EndComp
$Comp
L R R3
U 1 1 59E6611C
P 1480 1330
F 0 "R3" V 1560 1330 50  0000 C CNN
F 1 "10K" V 1480 1330 50  0000 C CNN
F 2 "" V 1410 1330 50  0001 C CNN
F 3 "" H 1480 1330 50  0001 C CNN
	1    1480 1330
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR01
U 1 1 59E66238
P 2530 1230
F 0 "#PWR01" H 2530 1080 50  0001 C CNN
F 1 "VCC" H 2530 1380 50  0000 C CNN
F 2 "" H 2530 1230 50  0001 C CNN
F 3 "" H 2530 1230 50  0001 C CNN
	1    2530 1230
	1    0    0    -1  
$EndComp
$Comp
L Crystal Y1
U 1 1 59E662AF
P 1300 1980
F 0 "Y1" H 1300 2130 50  0000 C CNN
F 1 "16MHz" H 1300 1830 50  0000 C CNN
F 2 "" H 1300 1980 50  0001 C CNN
F 3 "" H 1300 1980 50  0001 C CNN
	1    1300 1980
	0    1    1    0   
$EndComp
$Comp
L C C1
U 1 1 59E663E6
P 970 1830
F 0 "C1" H 995 1930 50  0000 L CNN
F 1 "18pF" H 995 1730 50  0000 L CNN
F 2 "" H 1008 1680 50  0001 C CNN
F 3 "" H 970 1830 50  0001 C CNN
	1    970  1830
	0    1    1    0   
$EndComp
$Comp
L C C2
U 1 1 59E66491
P 970 2130
F 0 "C2" H 995 2230 50  0000 L CNN
F 1 "18pF" H 995 2030 50  0000 L CNN
F 2 "" H 1008 1980 50  0001 C CNN
F 3 "" H 970 2130 50  0001 C CNN
	1    970  2130
	0    1    1    0   
$EndComp
$Comp
L GND #PWR02
U 1 1 59E6655E
P 820 2330
F 0 "#PWR02" H 820 2080 50  0001 C CNN
F 1 "GND" H 820 2180 50  0000 C CNN
F 2 "" H 820 2330 50  0001 C CNN
F 3 "" H 820 2330 50  0001 C CNN
	1    820  2330
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR03
U 1 1 59E666E1
P 1480 3880
F 0 "#PWR03" H 1480 3730 50  0001 C CNN
F 1 "VCC" H 1480 4030 50  0000 C CNN
F 2 "" H 1480 3880 50  0001 C CNN
F 3 "" H 1480 3880 50  0001 C CNN
	1    1480 3880
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR04
U 1 1 59E66846
P 2480 4630
F 0 "#PWR04" H 2480 4380 50  0001 C CNN
F 1 "GND" H 2480 4480 50  0000 C CNN
F 2 "" H 2480 4630 50  0001 C CNN
F 3 "" H 2480 4630 50  0001 C CNN
	1    2480 4630
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 59E8EF8C
P 1250 2830
F 0 "R1" V 1200 3010 50  0000 C CNN
F 1 "22R" V 1250 2830 50  0000 C CNN
F 2 "" V 1180 2830 50  0001 C CNN
F 3 "" H 1250 2830 50  0001 C CNN
	1    1250 2830
	0    1    1    0   
$EndComp
$Comp
L R R2
U 1 1 59E8F0DD
P 1250 2960
F 0 "R2" V 1330 2960 50  0000 C CNN
F 1 "22R" V 1250 2960 50  0000 C CNN
F 2 "" V 1180 2960 50  0001 C CNN
F 3 "" H 1250 2960 50  0001 C CNN
	1    1250 2960
	0    1    1    0   
$EndComp
Text GLabel 1020 2830 0    60   BiDi ~ 0
USB_D+
Text GLabel 1020 2960 0    60   BiDi ~ 0
USB_D-
$Comp
L C C5
U 1 1 59E8F572
P 1480 3230
F 0 "C5" H 1370 3330 50  0000 L CNN
F 1 "0.1uF" H 1240 3140 50  0000 L CNN
F 2 "" H 1518 3080 50  0001 C CNN
F 3 "" H 1480 3230 50  0001 C CNN
	1    1480 3230
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 59E8F8AC
P 1480 3380
F 0 "#PWR05" H 1480 3130 50  0001 C CNN
F 1 "GND" H 1480 3230 50  0000 C CNN
F 2 "" H 1480 3380 50  0001 C CNN
F 3 "" H 1480 3380 50  0001 C CNN
	1    1480 3380
	1    0    0    -1  
$EndComp
$Comp
L R R14
U 1 1 59EB01C4
P 9790 3480
F 0 "R14" V 9870 3480 50  0000 C CNN
F 1 "200R" V 9790 3480 50  0000 C CNN
F 2 "" V 9720 3480 50  0001 C CNN
F 3 "" H 9790 3480 50  0001 C CNN
	1    9790 3480
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR06
U 1 1 59EB02B1
P 9700 3330
F 0 "#PWR06" H 9700 3180 50  0001 C CNN
F 1 "VCC" H 9700 3480 50  0000 C CNN
F 2 "" H 9700 3330 50  0001 C CNN
F 3 "" H 9700 3330 50  0001 C CNN
	1    9700 3330
	1    0    0    -1  
$EndComp
$Comp
L IRLIZ44N Q2
U 1 1 59EB0368
P 9600 3830
F 0 "Q2" H 9850 3905 50  0000 L CNN
F 1 "IRL540N" H 9850 3830 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-220-3_Horizontal" H 9850 3755 50  0001 L CIN
F 3 "" H 9600 3830 50  0001 L CNN
	1    9600 3830
	1    0    0    -1  
$EndComp
Text GLabel 9320 3830 0    60   Input ~ 0
DUMMY
$Comp
L R R11
U 1 1 59EB0444
P 9400 3980
F 0 "R11" V 9480 3980 50  0000 C CNN
F 1 "10K" V 9400 3980 50  0000 C CNN
F 2 "" V 9330 3980 50  0001 C CNN
F 3 "" H 9400 3980 50  0001 C CNN
	1    9400 3980
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR07
U 1 1 59EB04F8
P 9400 4130
F 0 "#PWR07" H 9400 3880 50  0001 C CNN
F 1 "GND" H 9400 3980 50  0000 C CNN
F 2 "" H 9400 4130 50  0001 C CNN
F 3 "" H 9400 4130 50  0001 C CNN
	1    9400 4130
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR08
U 1 1 59EB052B
P 9700 4030
F 0 "#PWR08" H 9700 3780 50  0001 C CNN
F 1 "GND" H 9700 3880 50  0000 C CNN
F 2 "" H 9700 4030 50  0001 C CNN
F 3 "" H 9700 4030 50  0001 C CNN
	1    9700 4030
	1    0    0    -1  
$EndComp
$Comp
L Speaker LS1
U 1 1 59EB0736
P 8480 1580
F 0 "LS1" H 8540 1360 50  0000 R CNN
F 1 "2W" H 8670 1270 50  0000 R CNN
F 2 "" H 8480 1380 50  0001 C CNN
F 3 "" H 8470 1530 50  0001 C CNN
	1    8480 1580
	1    0    0    -1  
$EndComp
$Comp
L D D1
U 1 1 59EB079D
P 8030 1690
F 0 "D1" V 8130 1620 50  0000 C CNN
F 1 "D" V 7910 1630 50  0000 C CNN
F 2 "" H 8030 1690 50  0001 C CNN
F 3 "" H 8030 1690 50  0001 C CNN
	1    8030 1690
	0    1    1    0   
$EndComp
$Comp
L VCC #PWR09
U 1 1 59EB08CE
P 8030 1410
F 0 "#PWR09" H 8030 1260 50  0001 C CNN
F 1 "VCC" H 8030 1560 50  0000 C CNN
F 2 "" H 8030 1410 50  0001 C CNN
F 3 "" H 8030 1410 50  0001 C CNN
	1    8030 1410
	1    0    0    -1  
$EndComp
$Comp
L C C7
U 1 1 59EB0A92
P 7780 1690
F 0 "C7" H 7805 1790 50  0000 L CNN
F 1 "C" H 7805 1590 50  0000 L CNN
F 2 "" H 7818 1540 50  0001 C CNN
F 3 "" H 7780 1690 50  0001 C CNN
	1    7780 1690
	1    0    0    -1  
$EndComp
$Comp
L IRLIZ44N Q1
U 1 1 59EB0BD7
P 7930 2140
F 0 "Q1" H 8180 2215 50  0000 L CNN
F 1 "IRL540N" H 8180 2140 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-220-3_Horizontal" H 8180 2065 50  0001 L CIN
F 3 "" H 7930 2140 50  0001 L CNN
	1    7930 2140
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR010
U 1 1 59EB0F4B
P 8030 2340
F 0 "#PWR010" H 8030 2090 50  0001 C CNN
F 1 "GND" H 8030 2190 50  0000 C CNN
F 2 "" H 8030 2340 50  0001 C CNN
F 3 "" H 8030 2340 50  0001 C CNN
	1    8030 2340
	1    0    0    -1  
$EndComp
$Comp
L R R10
U 1 1 59EB0FF4
P 7730 2290
F 0 "R10" V 7810 2290 50  0000 C CNN
F 1 "10K" V 7730 2290 50  0000 C CNN
F 2 "" V 7660 2290 50  0001 C CNN
F 3 "" H 7730 2290 50  0001 C CNN
	1    7730 2290
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR011
U 1 1 59EB105E
P 7730 2440
F 0 "#PWR011" H 7730 2190 50  0001 C CNN
F 1 "GND" H 7730 2290 50  0000 C CNN
F 2 "" H 7730 2440 50  0001 C CNN
F 3 "" H 7730 2440 50  0001 C CNN
	1    7730 2440
	1    0    0    -1  
$EndComp
Text GLabel 7650 2140 0    60   Input ~ 0
SOUND
$Comp
L Conn_02x05_Odd_Even J7
U 1 1 59EB13A5
P 6350 1390
F 0 "J7" H 6400 1690 50  0000 C CNN
F 1 "ICSP" H 6400 1090 50  0000 C CNN
F 2 "" H 6350 1390 50  0001 C CNN
F 3 "" H 6350 1390 50  0001 C CNN
	1    6350 1390
	1    0    0    -1  
$EndComp
Text GLabel 6150 1190 0    60   Input ~ 0
MOSI
Text Notes 7450 2830 0    60   Italic 0
TODO: Capacitor value\nfor the low-pass filter
NoConn ~ 6150 1290
$Comp
L VCC #PWR012
U 1 1 59EB2DF7
P 6650 1190
F 0 "#PWR012" H 6650 1040 50  0001 C CNN
F 1 "VCC" H 6650 1340 50  0000 C CNN
F 2 "" H 6650 1190 50  0001 C CNN
F 3 "" H 6650 1190 50  0001 C CNN
	1    6650 1190
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR013
U 1 1 59EB2E6D
P 6650 1590
F 0 "#PWR013" H 6650 1340 50  0001 C CNN
F 1 "GND" H 6650 1440 50  0000 C CNN
F 2 "" H 6650 1590 50  0001 C CNN
F 3 "" H 6650 1590 50  0001 C CNN
	1    6650 1590
	1    0    0    -1  
$EndComp
Text GLabel 6150 1390 0    60   Output ~ 0
RESET
Text GLabel 5790 1490 0    60   Output ~ 0
SCK
Text GLabel 6150 1590 0    60   Output ~ 0
MISO
$Comp
L USB_B J8
U 1 1 59EB3731
P 9860 1930
F 0 "J8" H 9660 2380 50  0000 L CNN
F 1 "USB_B" H 9660 2280 50  0000 L CNN
F 2 "" H 10010 1880 50  0001 C CNN
F 3 "" H 10010 1880 50  0001 C CNN
	1    9860 1930
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR014
U 1 1 59EB3883
P 9860 2330
F 0 "#PWR014" H 9860 2080 50  0001 C CNN
F 1 "GND" H 9860 2180 50  0000 C CNN
F 2 "" H 9860 2330 50  0001 C CNN
F 3 "" H 9860 2330 50  0001 C CNN
	1    9860 2330
	1    0    0    -1  
$EndComp
Text GLabel 10210 1910 2    60   BiDi ~ 0
USB_D+
Text GLabel 10220 2050 2    60   BiDi ~ 0
USB_D-
$Comp
L VCC #PWR015
U 1 1 59EB408E
P 10940 1430
F 0 "#PWR015" H 10940 1280 50  0001 C CNN
F 1 "VCC" H 10940 1580 50  0000 C CNN
F 2 "" H 10940 1430 50  0001 C CNN
F 3 "" H 10940 1430 50  0001 C CNN
	1    10940 1430
	1    0    0    -1  
$EndComp
Text Notes 8140 3690 0    60   Italic 0
Dummy load to make sure\npowerbanks don't shut off\npower due to low current
Text Notes 9480 2740 0    60   Italic 0
USB type B (device) for\npower and programming
$Comp
L GND #PWR016
U 1 1 59EB8ACB
P 2050 7010
F 0 "#PWR016" H 2050 6760 50  0001 C CNN
F 1 "GND" H 2050 6860 50  0000 C CNN
F 2 "" H 2050 7010 50  0001 C CNN
F 3 "" H 2050 7010 50  0001 C CNN
	1    2050 7010
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR017
U 1 1 59EB8B86
P 1850 7010
F 0 "#PWR017" H 1850 6760 50  0001 C CNN
F 1 "GND" H 1850 6860 50  0000 C CNN
F 2 "" H 1850 7010 50  0001 C CNN
F 3 "" H 1850 7010 50  0001 C CNN
	1    1850 7010
	1    0    0    -1  
$EndComp
Text GLabel 1600 7050 0    60   Output ~ 0
PBTN1
Text GLabel 1630 7260 0    60   Input ~ 0
PLED1
$Comp
L R R4
U 1 1 59EB8E65
P 1800 7260
F 0 "R4" V 1880 7260 50  0000 C CNN
F 1 "220R" V 1800 7260 50  0000 C CNN
F 2 "" V 1730 7260 50  0001 C CNN
F 3 "" H 1800 7260 50  0001 C CNN
	1    1800 7260
	0    1    1    0   
$EndComp
$Comp
L GND #PWR018
U 1 1 59EB925C
P 2990 7020
F 0 "#PWR018" H 2990 6770 50  0001 C CNN
F 1 "GND" H 2990 6870 50  0000 C CNN
F 2 "" H 2990 7020 50  0001 C CNN
F 3 "" H 2990 7020 50  0001 C CNN
	1    2990 7020
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR019
U 1 1 59EB9262
P 2790 7020
F 0 "#PWR019" H 2790 6770 50  0001 C CNN
F 1 "GND" H 2790 6870 50  0000 C CNN
F 2 "" H 2790 7020 50  0001 C CNN
F 3 "" H 2790 7020 50  0001 C CNN
	1    2790 7020
	1    0    0    -1  
$EndComp
Text GLabel 2540 7060 0    60   Output ~ 0
PBTN2
Text GLabel 2570 7270 0    60   Input ~ 0
PLED2
$Comp
L R R5
U 1 1 59EB926C
P 2740 7270
F 0 "R5" V 2820 7270 50  0000 C CNN
F 1 "220R" V 2740 7270 50  0000 C CNN
F 2 "" V 2670 7270 50  0001 C CNN
F 3 "" H 2740 7270 50  0001 C CNN
	1    2740 7270
	0    1    1    0   
$EndComp
$Comp
L GND #PWR020
U 1 1 59EB946E
P 3940 7020
F 0 "#PWR020" H 3940 6770 50  0001 C CNN
F 1 "GND" H 3940 6870 50  0000 C CNN
F 2 "" H 3940 7020 50  0001 C CNN
F 3 "" H 3940 7020 50  0001 C CNN
	1    3940 7020
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR021
U 1 1 59EB9474
P 3740 7020
F 0 "#PWR021" H 3740 6770 50  0001 C CNN
F 1 "GND" H 3740 6870 50  0000 C CNN
F 2 "" H 3740 7020 50  0001 C CNN
F 3 "" H 3740 7020 50  0001 C CNN
	1    3740 7020
	1    0    0    -1  
$EndComp
Text GLabel 3490 7060 0    60   Output ~ 0
PBTN3
Text GLabel 3520 7270 0    60   Input ~ 0
PLED3
$Comp
L R R6
U 1 1 59EB947E
P 3690 7270
F 0 "R6" V 3770 7270 50  0000 C CNN
F 1 "220R" V 3690 7270 50  0000 C CNN
F 2 "" V 3620 7270 50  0001 C CNN
F 3 "" H 3690 7270 50  0001 C CNN
	1    3690 7270
	0    1    1    0   
$EndComp
$Comp
L GND #PWR022
U 1 1 59EB95EA
P 4900 7020
F 0 "#PWR022" H 4900 6770 50  0001 C CNN
F 1 "GND" H 4900 6870 50  0000 C CNN
F 2 "" H 4900 7020 50  0001 C CNN
F 3 "" H 4900 7020 50  0001 C CNN
	1    4900 7020
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR023
U 1 1 59EB95F0
P 4700 7020
F 0 "#PWR023" H 4700 6770 50  0001 C CNN
F 1 "GND" H 4700 6870 50  0000 C CNN
F 2 "" H 4700 7020 50  0001 C CNN
F 3 "" H 4700 7020 50  0001 C CNN
	1    4700 7020
	1    0    0    -1  
$EndComp
Text GLabel 4450 7060 0    60   Output ~ 0
PBTN4
Text GLabel 4480 7270 0    60   Input ~ 0
PLED4
$Comp
L R R7
U 1 1 59EB95FA
P 4650 7270
F 0 "R7" V 4730 7270 50  0000 C CNN
F 1 "220R" V 4650 7270 50  0000 C CNN
F 2 "" V 4580 7270 50  0001 C CNN
F 3 "" H 4650 7270 50  0001 C CNN
	1    4650 7270
	0    1    1    0   
$EndComp
$Comp
L GND #PWR024
U 1 1 59EB9B59
P 5910 7020
F 0 "#PWR024" H 5910 6770 50  0001 C CNN
F 1 "GND" H 5910 6870 50  0000 C CNN
F 2 "" H 5910 7020 50  0001 C CNN
F 3 "" H 5910 7020 50  0001 C CNN
	1    5910 7020
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR025
U 1 1 59EB9B5F
P 5710 7020
F 0 "#PWR025" H 5710 6770 50  0001 C CNN
F 1 "GND" H 5710 6870 50  0000 C CNN
F 2 "" H 5710 7020 50  0001 C CNN
F 3 "" H 5710 7020 50  0001 C CNN
	1    5710 7020
	1    0    0    -1  
$EndComp
Text GLabel 5460 7060 0    60   Output ~ 0
PBTN5
Text GLabel 5490 7270 0    60   Input ~ 0
PLED5
$Comp
L R R8
U 1 1 59EB9B69
P 5660 7270
F 0 "R8" V 5740 7270 50  0000 C CNN
F 1 "220R" V 5660 7270 50  0000 C CNN
F 2 "" V 5590 7270 50  0001 C CNN
F 3 "" H 5660 7270 50  0001 C CNN
	1    5660 7270
	0    1    1    0   
$EndComp
$Comp
L SW_Push SW1
U 1 1 59EBA50E
P 1990 5910
F 0 "SW1" H 2040 6010 50  0000 L CNN
F 1 "SW_Push" H 1990 5850 50  0001 C CNN
F 2 "" H 1990 6110 50  0001 C CNN
F 3 "" H 1990 6110 50  0001 C CNN
	1    1990 5910
	1    0    0    -1  
$EndComp
Text GLabel 1730 5910 0    60   Output ~ 0
CBTN1
$Comp
L GND #PWR026
U 1 1 59EBA9B7
P 2190 5910
F 0 "#PWR026" H 2190 5660 50  0001 C CNN
F 1 "GND" H 2190 5760 50  0000 C CNN
F 2 "" H 2190 5910 50  0001 C CNN
F 3 "" H 2190 5910 50  0001 C CNN
	1    2190 5910
	1    0    0    -1  
$EndComp
$Comp
L SW_Push SW2
U 1 1 59EBABAB
P 3220 5910
F 0 "SW2" H 3270 6010 50  0000 L CNN
F 1 "SW_Push" H 3220 5850 50  0001 C CNN
F 2 "" H 3220 6110 50  0001 C CNN
F 3 "" H 3220 6110 50  0001 C CNN
	1    3220 5910
	1    0    0    -1  
$EndComp
Text GLabel 2960 5910 0    60   Output ~ 0
CBTN2
$Comp
L GND #PWR027
U 1 1 59EBABB3
P 3420 5910
F 0 "#PWR027" H 3420 5660 50  0001 C CNN
F 1 "GND" H 3420 5760 50  0000 C CNN
F 2 "" H 3420 5910 50  0001 C CNN
F 3 "" H 3420 5910 50  0001 C CNN
	1    3420 5910
	1    0    0    -1  
$EndComp
$Comp
L SW_Push SW3
U 1 1 59EBAD06
P 4400 5910
F 0 "SW3" H 4450 6010 50  0000 L CNN
F 1 "SW_Push" H 4400 5850 50  0001 C CNN
F 2 "" H 4400 6110 50  0001 C CNN
F 3 "" H 4400 6110 50  0001 C CNN
	1    4400 5910
	1    0    0    -1  
$EndComp
Text GLabel 4140 5910 0    60   Output ~ 0
CBTN3
$Comp
L GND #PWR028
U 1 1 59EBAD0E
P 4600 5910
F 0 "#PWR028" H 4600 5660 50  0001 C CNN
F 1 "GND" H 4600 5760 50  0000 C CNN
F 2 "" H 4600 5910 50  0001 C CNN
F 3 "" H 4600 5910 50  0001 C CNN
	1    4600 5910
	1    0    0    -1  
$EndComp
$Comp
L USB_A J9
U 1 1 59EBB3E7
P 10170 4850
F 0 "J9" H 9970 5300 50  0000 L CNN
F 1 "USB_A" H 9970 5200 50  0000 L CNN
F 2 "" H 10320 4800 50  0001 C CNN
F 3 "" H 10320 4800 50  0001 C CNN
	1    10170 4850
	1    0    0    -1  
$EndComp
NoConn ~ 10470 4850
NoConn ~ 10470 4950
$Comp
L VCC #PWR029
U 1 1 59EBB5A1
P 10470 4650
F 0 "#PWR029" H 10470 4500 50  0001 C CNN
F 1 "VCC" H 10470 4800 50  0000 C CNN
F 2 "" H 10470 4650 50  0001 C CNN
F 3 "" H 10470 4650 50  0001 C CNN
	1    10470 4650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR030
U 1 1 59EBB615
P 10070 5250
F 0 "#PWR030" H 10070 5000 50  0001 C CNN
F 1 "GND" H 10070 5100 50  0000 C CNN
F 2 "" H 10070 5250 50  0001 C CNN
F 3 "" H 10070 5250 50  0001 C CNN
	1    10070 5250
	1    0    0    -1  
$EndComp
$Comp
L IRLIZ44N Q3
U 1 1 59EBB689
P 10070 5590
F 0 "Q3" H 10320 5665 50  0000 L CNN
F 1 "IRL540N" H 10320 5590 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-220-3_Horizontal" H 10320 5515 50  0001 L CIN
F 3 "" H 10070 5590 50  0001 L CNN
	1    10070 5590
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR031
U 1 1 59EBB82E
P 10170 5790
F 0 "#PWR031" H 10170 5540 50  0001 C CNN
F 1 "GND" H 10170 5640 50  0000 C CNN
F 2 "" H 10170 5790 50  0001 C CNN
F 3 "" H 10170 5790 50  0001 C CNN
	1    10170 5790
	1    0    0    -1  
$EndComp
$Comp
L R R16
U 1 1 59EBB8A5
P 9870 5740
F 0 "R16" V 9950 5740 50  0000 C CNN
F 1 "10K" V 9870 5740 50  0000 C CNN
F 2 "" V 9800 5740 50  0001 C CNN
F 3 "" H 9870 5740 50  0001 C CNN
	1    9870 5740
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR032
U 1 1 59EBB950
P 9870 5890
F 0 "#PWR032" H 9870 5640 50  0001 C CNN
F 1 "GND" H 9870 5740 50  0000 C CNN
F 2 "" H 9870 5890 50  0001 C CNN
F 3 "" H 9870 5890 50  0001 C CNN
	1    9870 5890
	1    0    0    -1  
$EndComp
Text GLabel 9780 5590 0    60   Input ~ 0
LAMP
Text Notes 9080 5440 0    60   Italic 0
USB type A (host)\nfor the signal lamp
$Comp
L Conn_01x04_Female J6
U 1 1 59EBC81D
P 6160 2510
F 0 "J6" H 6160 2710 50  0000 C CNN
F 1 "Daughter board" V 6240 2480 50  0000 C CNN
F 2 "" H 6160 2510 50  0001 C CNN
F 3 "" H 6160 2510 50  0001 C CNN
	1    6160 2510
	1    0    0    -1  
$EndComp
Text GLabel 5920 2610 0    60   Input ~ 0
I2C_SCL
Text GLabel 5920 2760 0    60   Input ~ 0
I2C_SDA
$Comp
L GND #PWR033
U 1 1 59EB4146
P 5360 2510
F 0 "#PWR033" H 5360 2260 50  0001 C CNN
F 1 "GND" H 5360 2360 50  0000 C CNN
F 2 "" H 5360 2510 50  0001 C CNN
F 3 "" H 5360 2510 50  0001 C CNN
	1    5360 2510
	1    0    0    -1  
$EndComp
Text GLabel 3730 2680 2    60   Output ~ 0
I2C_SCL
Text GLabel 4200 2780 2    60   Output ~ 0
I2C_SDA
Text GLabel 3730 1680 2    60   Output ~ 0
MOSI
Text GLabel 4140 1780 2    60   Input ~ 0
MISO
Text GLabel 1420 1480 0    60   Input ~ 0
RESET
Text GLabel 4140 1580 2    60   Input ~ 0
SCK
$Comp
L Jumper JP1
U 1 1 59EB71E9
P 4550 1460
F 0 "JP1" H 4550 1610 50  0000 C CNN
F 1 "Jumper" H 4550 1380 50  0000 C CNN
F 2 "" H 4550 1460 50  0001 C CNN
F 3 "" H 4550 1460 50  0001 C CNN
	1    4550 1460
	1    0    0    -1  
$EndComp
Text GLabel 4850 1460 2    60   Output ~ 0
SOUND
$Comp
L C C3
U 1 1 59EB7B64
P 1030 4610
F 0 "C3" H 920 4710 50  0000 L CNN
F 1 "0.1uF" H 790 4520 50  0000 L CNN
F 2 "" H 1068 4460 50  0001 C CNN
F 3 "" H 1030 4610 50  0001 C CNN
	1    1030 4610
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR034
U 1 1 59EB7C3A
P 1030 4760
F 0 "#PWR034" H 1030 4510 50  0001 C CNN
F 1 "GND" H 1030 4610 50  0000 C CNN
F 2 "" H 1030 4760 50  0001 C CNN
F 3 "" H 1030 4760 50  0001 C CNN
	1    1030 4760
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR035
U 1 1 59EB7CBD
P 1030 4460
F 0 "#PWR035" H 1030 4310 50  0001 C CNN
F 1 "VCC" H 1030 4610 50  0000 C CNN
F 2 "" H 1030 4460 50  0001 C CNN
F 3 "" H 1030 4460 50  0001 C CNN
	1    1030 4460
	1    0    0    -1  
$EndComp
$Comp
L C C4
U 1 1 59EB7D86
P 1390 4610
F 0 "C4" H 1280 4710 50  0000 L CNN
F 1 "0.1uF" H 1150 4520 50  0000 L CNN
F 2 "" H 1428 4460 50  0001 C CNN
F 3 "" H 1390 4610 50  0001 C CNN
	1    1390 4610
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR036
U 1 1 59EB7D8C
P 1390 4760
F 0 "#PWR036" H 1390 4510 50  0001 C CNN
F 1 "GND" H 1390 4610 50  0000 C CNN
F 2 "" H 1390 4760 50  0001 C CNN
F 3 "" H 1390 4760 50  0001 C CNN
	1    1390 4760
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR037
U 1 1 59EB7D92
P 1390 4460
F 0 "#PWR037" H 1390 4310 50  0001 C CNN
F 1 "VCC" H 1390 4610 50  0000 C CNN
F 2 "" H 1390 4460 50  0001 C CNN
F 3 "" H 1390 4460 50  0001 C CNN
	1    1390 4460
	1    0    0    -1  
$EndComp
$Comp
L Fuse F1
U 1 1 59EB8E94
P 10940 1580
F 0 "F1" V 11020 1580 50  0000 C CNN
F 1 "1A" V 10865 1580 50  0000 C CNN
F 2 "" V 10870 1580 50  0001 C CNN
F 3 "" H 10940 1580 50  0001 C CNN
	1    10940 1580
	-1   0    0    1   
$EndComp
$Comp
L Jumper JP2
U 1 1 59EBAFB0
P 10460 1730
F 0 "JP2" H 10460 1880 50  0000 C CNN
F 1 "Jumper" H 10460 1650 50  0000 C CNN
F 2 "" H 10460 1730 50  0001 C CNN
F 3 "" H 10460 1730 50  0001 C CNN
	1    10460 1730
	1    0    0    -1  
$EndComp
Text GLabel 3730 1480 2    60   Output ~ 0
LAMP
Text GLabel 4150 3180 2    60   Input ~ 0
CBTN1
Text GLabel 4150 3580 2    60   Input ~ 0
CBTN2
Text GLabel 3730 3680 2    60   Input ~ 0
CBTN3
Text GLabel 4150 2180 2    60   Input ~ 0
DUMMY
Text GLabel 3730 2880 2    60   Input ~ 0
PBTN1
Text GLabel 4140 2980 2    60   Output ~ 0
PLED1
Text GLabel 3730 3080 2    60   Input ~ 0
PBTN2
Text GLabel 3730 3280 2    60   Output ~ 0
PLED2
Text GLabel 4150 3380 2    60   Input ~ 0
PBTN3
Text GLabel 3730 1880 2    60   Output ~ 0
PLED3
Text GLabel 4140 1980 2    60   Input ~ 0
PBTN4
Text GLabel 3730 2080 2    60   Output ~ 0
PLED4
Text GLabel 3730 2380 2    60   Input ~ 0
PBTN5
Text GLabel 4160 2480 2    60   Output ~ 0
PLED5
$Comp
L VCC #PWR038
U 1 1 59EC6A2F
P 1480 2680
F 0 "#PWR038" H 1480 2530 50  0001 C CNN
F 1 "VCC" H 1480 2830 50  0000 C CNN
F 2 "" H 1480 2680 50  0001 C CNN
F 3 "" H 1480 2680 50  0001 C CNN
	1    1480 2680
	1    0    0    -1  
$EndComp
$Comp
L R R13
U 1 1 59ED0CE8
P 9620 3480
F 0 "R13" V 9700 3480 50  0000 C CNN
F 1 "200R" V 9620 3480 50  0000 C CNN
F 2 "" V 9550 3480 50  0001 C CNN
F 3 "" H 9620 3480 50  0001 C CNN
	1    9620 3480
	1    0    0    -1  
$EndComp
$Comp
L R R15
U 1 1 59ED0EE2
P 9960 3480
F 0 "R15" V 10040 3480 50  0000 C CNN
F 1 "200R" V 9960 3480 50  0000 C CNN
F 2 "" V 9890 3480 50  0001 C CNN
F 3 "" H 9960 3480 50  0001 C CNN
	1    9960 3480
	1    0    0    -1  
$EndComp
$Comp
L R R12
U 1 1 59ED0F8D
P 9450 3480
F 0 "R12" V 9530 3480 50  0000 C CNN
F 1 "200R" V 9450 3480 50  0000 C CNN
F 2 "" V 9380 3480 50  0001 C CNN
F 3 "" H 9450 3480 50  0001 C CNN
	1    9450 3480
	1    0    0    -1  
$EndComp
Wire Wire Line
	2180 1230 2880 1230
Connection ~ 2430 1230
Connection ~ 2530 1230
Connection ~ 2780 1230
Wire Wire Line
	1120 1830 1480 1830
Wire Wire Line
	1480 1830 1480 1880
Wire Wire Line
	1120 2130 1480 2130
Wire Wire Line
	1480 2130 1480 2080
Connection ~ 1300 2130
Connection ~ 1300 1830
Wire Wire Line
	820  1830 820  2330
Connection ~ 820  2130
Wire Wire Line
	2230 4630 2780 4630
Connection ~ 2480 4630
Connection ~ 2580 4630
Connection ~ 2680 4630
Wire Wire Line
	1400 2830 1480 2830
Wire Wire Line
	1020 2830 1100 2830
Wire Wire Line
	1020 2960 1100 2960
Wire Wire Line
	1400 2960 1480 2930
Wire Wire Line
	9320 3830 9400 3830
Wire Wire Line
	7780 1410 8280 1410
Wire Wire Line
	8280 1410 8280 1580
Wire Wire Line
	7780 1540 7780 1410
Wire Wire Line
	8030 1840 8030 1940
Wire Wire Line
	8030 1540 8030 1410
Connection ~ 8030 1410
Wire Wire Line
	7650 2140 7730 2140
Wire Wire Line
	6650 1290 6650 1590
Connection ~ 6650 1390
Connection ~ 6650 1490
Wire Wire Line
	6150 1490 5790 1490
Wire Wire Line
	9860 2330 9760 2330
Wire Wire Line
	10220 2050 10160 2030
Wire Wire Line
	10210 1910 10160 1930
Wire Wire Line
	7780 1840 7780 1900
Wire Wire Line
	7780 1900 8280 1900
Connection ~ 8030 1900
Wire Wire Line
	8280 1900 8280 1680
Wire Wire Line
	1600 7050 1750 7050
Wire Wire Line
	1750 7050 1750 7010
Wire Wire Line
	1630 7260 1650 7260
Wire Wire Line
	1950 7260 1950 7010
Wire Wire Line
	2540 7060 2690 7060
Wire Wire Line
	2690 7060 2690 7020
Wire Wire Line
	2570 7270 2590 7270
Wire Wire Line
	2890 7270 2890 7020
Wire Wire Line
	3490 7060 3640 7060
Wire Wire Line
	3640 7060 3640 7020
Wire Wire Line
	3520 7270 3540 7270
Wire Wire Line
	3840 7270 3840 7020
Wire Wire Line
	4450 7060 4600 7060
Wire Wire Line
	4600 7060 4600 7020
Wire Wire Line
	4480 7270 4500 7270
Wire Wire Line
	4800 7270 4800 7020
Wire Wire Line
	5460 7060 5610 7060
Wire Wire Line
	5610 7060 5610 7020
Wire Wire Line
	5490 7270 5510 7270
Wire Wire Line
	5810 7270 5810 7020
Wire Wire Line
	1730 5910 1790 5910
Wire Wire Line
	2960 5910 3020 5910
Wire Wire Line
	4140 5910 4200 5910
Wire Wire Line
	10170 5250 10170 5390
Wire Wire Line
	9780 5590 9870 5590
Wire Wire Line
	5920 2760 5960 2760
Wire Wire Line
	5960 2760 5960 2710
Wire Wire Line
	5960 2610 5920 2610
Wire Wire Line
	5960 2510 5360 2510
Wire Wire Line
	3730 2780 4200 2780
Wire Wire Line
	4140 1780 3730 1780
Wire Wire Line
	1420 1480 1480 1480
Wire Wire Line
	4150 2180 3730 2180
Wire Wire Line
	4140 2980 3730 2980
Wire Wire Line
	4150 3380 3730 3380
Wire Wire Line
	4140 1980 3730 1980
Wire Wire Line
	4160 2480 3730 2480
Wire Wire Line
	4150 3180 3730 3180
Wire Wire Line
	4150 3580 3730 3580
Wire Wire Line
	3730 1580 4140 1580
Wire Wire Line
	4250 1460 4070 1460
Wire Wire Line
	4070 1460 4070 1580
Connection ~ 4070 1580
Wire Wire Line
	9450 3630 9960 3630
Connection ~ 9620 3630
Connection ~ 9700 3630
Connection ~ 9790 3630
Wire Wire Line
	9450 3330 9960 3330
Connection ~ 9790 3330
Connection ~ 9700 3330
Connection ~ 9620 3330
Text Notes 2160 5720 0    60   Italic 0
Control buttons use the internal pull-ups
$Comp
L RJ10 J1
U 1 1 59F9E9B3
P 1900 6660
F 0 "J1" H 1900 6710 60  0000 C CNN
F 1 "RJ10" H 1900 6560 60  0000 C CNN
F 2 "" H 1875 6635 60  0001 C CNN
F 3 "" H 1875 6635 60  0001 C CNN
	1    1900 6660
	1    0    0    -1  
$EndComp
$Comp
L RJ10 J2
U 1 1 59F9EB79
P 2840 6670
F 0 "J2" H 2840 6720 60  0000 C CNN
F 1 "RJ10" H 2840 6570 60  0000 C CNN
F 2 "" H 2815 6645 60  0001 C CNN
F 3 "" H 2815 6645 60  0001 C CNN
	1    2840 6670
	1    0    0    -1  
$EndComp
$Comp
L RJ10 J3
U 1 1 59F9ED52
P 3790 6670
F 0 "J3" H 3790 6720 60  0000 C CNN
F 1 "RJ10" H 3790 6570 60  0000 C CNN
F 2 "" H 3765 6645 60  0001 C CNN
F 3 "" H 3765 6645 60  0001 C CNN
	1    3790 6670
	1    0    0    -1  
$EndComp
$Comp
L RJ10 J4
U 1 1 59F9EE0B
P 4750 6670
F 0 "J4" H 4750 6720 60  0000 C CNN
F 1 "RJ10" H 4750 6570 60  0000 C CNN
F 2 "" H 4725 6645 60  0001 C CNN
F 3 "" H 4725 6645 60  0001 C CNN
	1    4750 6670
	1    0    0    -1  
$EndComp
$Comp
L RJ10 J5
U 1 1 59F9EEE4
P 5760 6670
F 0 "J5" H 5760 6720 60  0000 C CNN
F 1 "RJ10" H 5760 6570 60  0000 C CNN
F 2 "" H 5735 6645 60  0001 C CNN
F 3 "" H 5735 6645 60  0001 C CNN
	1    5760 6670
	1    0    0    -1  
$EndComp
$Comp
L LCD12864B DS1
U 1 1 59FA0B49
P 6620 4580
F 0 "DS1" H 6290 5330 50  0000 C CNN
F 1 "LCD12864B" H 6840 5330 50  0000 C CNN
F 2 "kamaji:LCD12864B" H 6620 3680 50  0001 C CIN
F 3 "" H 6820 4380 50  0001 C CNN
	1    6620 4580
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR039
U 1 1 59FA0CDC
P 6620 5380
F 0 "#PWR039" H 6620 5130 50  0001 C CNN
F 1 "GND" H 6620 5230 50  0000 C CNN
F 2 "" H 6620 5380 50  0001 C CNN
F 3 "" H 6620 5380 50  0001 C CNN
	1    6620 5380
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR040
U 1 1 59FA0DCC
P 6620 3780
F 0 "#PWR040" H 6620 3630 50  0001 C CNN
F 1 "VCC" H 6620 3930 50  0000 C CNN
F 2 "" H 6620 3780 50  0001 C CNN
F 3 "" H 6620 3780 50  0001 C CNN
	1    6620 3780
	1    0    0    -1  
$EndComp
Wire Wire Line
	6120 4480 6120 5180
Connection ~ 6120 4580
Connection ~ 6120 4680
Connection ~ 6120 4780
Connection ~ 6120 4880
Connection ~ 6120 4980
Connection ~ 6120 5080
Text GLabel 5960 4030 0    60   Input ~ 0
LCD_CS
Text GLabel 5790 4170 0    60   Input ~ 0
MOSI
Text GLabel 6120 4230 0    60   Input ~ 0
SCK
NoConn ~ 7120 4030
$Comp
L VCC #PWR041
U 1 1 59FA1D1E
P 7220 4130
F 0 "#PWR041" H 7220 3980 50  0001 C CNN
F 1 "VCC" H 7220 4280 50  0000 C CNN
F 2 "" H 7220 4130 50  0001 C CNN
F 3 "" H 7220 4130 50  0001 C CNN
	1    7220 4130
	1    0    0    -1  
$EndComp
Wire Wire Line
	7120 4130 7220 4130
$Comp
L GND #PWR042
U 1 1 59FA1E3D
P 7120 4230
F 0 "#PWR042" H 7120 3980 50  0001 C CNN
F 1 "GND" H 7120 4080 50  0000 C CNN
F 2 "" H 7120 4230 50  0001 C CNN
F 3 "" H 7120 4230 50  0001 C CNN
	1    7120 4230
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR043
U 1 1 59FA20D6
P 7330 4280
F 0 "#PWR043" H 7330 4130 50  0001 C CNN
F 1 "VCC" H 7330 4430 50  0000 C CNN
F 2 "" H 7330 4280 50  0001 C CNN
F 3 "" H 7330 4280 50  0001 C CNN
	1    7330 4280
	1    0    0    -1  
$EndComp
$Comp
L R R17
U 1 1 59FA2621
P 7330 4430
F 0 "R17" V 7250 4430 50  0000 C CNN
F 1 "10K" V 7330 4430 50  0000 C CNN
F 2 "" V 7260 4430 50  0001 C CNN
F 3 "" H 7330 4430 50  0001 C CNN
	1    7330 4430
	-1   0    0    1   
$EndComp
Text GLabel 7430 4580 2    60   Input ~ 0
LCD_RST
$Comp
L R R9
U 1 1 59FA4693
P 6070 3880
F 0 "R9" V 5990 3880 50  0000 C CNN
F 1 "10K" V 6070 3880 50  0000 C CNN
F 2 "" V 6000 3880 50  0001 C CNN
F 3 "" H 6070 3880 50  0001 C CNN
	1    6070 3880
	-1   0    0    1   
$EndComp
Wire Wire Line
	5960 4030 6120 4030
Connection ~ 6070 4030
$Comp
L VCC #PWR044
U 1 1 59FA48E4
P 6070 3730
F 0 "#PWR044" H 6070 3580 50  0001 C CNN
F 1 "VCC" H 6070 3880 50  0000 C CNN
F 2 "" H 6070 3730 50  0001 C CNN
F 3 "" H 6070 3730 50  0001 C CNN
	1    6070 3730
	1    0    0    -1  
$EndComp
Wire Wire Line
	6120 4130 5840 4130
Wire Wire Line
	5840 4130 5840 4170
Wire Wire Line
	5840 4170 5790 4170
Text GLabel 3730 3880 2    60   Output ~ 0
LCD_CS
Text GLabel 4170 3980 2    60   Output ~ 0
LCD_RST
Wire Wire Line
	4170 3980 3730 3980
NoConn ~ 3730 4080
NoConn ~ 3730 4180
NoConn ~ 3730 4280
NoConn ~ 3730 4380
NoConn ~ 7120 5030
$Comp
L R R18
U 1 1 59FA8893
P 7270 5080
F 0 "R18" V 7190 5080 50  0000 C CNN
F 1 "10K" V 7270 5080 50  0000 C CNN
F 2 "" V 7200 5080 50  0001 C CNN
F 3 "" H 7270 5080 50  0001 C CNN
	1    7270 5080
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR045
U 1 1 59FA8954
P 7270 5230
F 0 "#PWR045" H 7270 4980 50  0001 C CNN
F 1 "GND" H 7270 5080 50  0000 C CNN
F 2 "" H 7270 5230 50  0001 C CNN
F 3 "" H 7270 5230 50  0001 C CNN
	1    7270 5230
	1    0    0    -1  
$EndComp
Wire Wire Line
	7120 4580 7430 4580
Connection ~ 7330 4580
Wire Wire Line
	7120 4930 7270 4930
$Comp
L VCC #PWR046
U 1 1 59FA9B58
P 5960 2410
F 0 "#PWR046" H 5960 2260 50  0001 C CNN
F 1 "VCC" H 5960 2560 50  0000 C CNN
F 2 "" H 5960 2410 50  0001 C CNN
F 3 "" H 5960 2410 50  0001 C CNN
	1    5960 2410
	1    0    0    -1  
$EndComp
$Comp
L VCC #PWR047
U 1 1 59FAA095
P 1480 1180
F 0 "#PWR047" H 1480 1030 50  0001 C CNN
F 1 "VCC" H 1480 1330 50  0000 C CNN
F 2 "" H 1480 1180 50  0001 C CNN
F 3 "" H 1480 1180 50  0001 C CNN
	1    1480 1180
	1    0    0    -1  
$EndComp
Text Notes 5000 4900 0    60   Italic 0
ST7920-based LCD\ndisplay in serial mode
$Comp
L GND #PWR?
U 1 1 59FAAD89
P 6120 5180
F 0 "#PWR?" H 6120 4930 50  0001 C CNN
F 1 "GND" H 6120 5030 50  0000 C CNN
F 2 "" H 6120 5180 50  0001 C CNN
F 3 "" H 6120 5180 50  0001 C CNN
	1    6120 5180
	1    0    0    -1  
$EndComp
Text Notes 4120 1250 0    60   Italic 0
Disconnect speaker\nwhen programmimg\nto avoid interference
Wire Wire Line
	10940 1730 10760 1730
Text Notes 10820 1520 2    60   Italic 0
Break for current\nmeasurement
$EndSCHEMATC
